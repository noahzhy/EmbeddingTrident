
pipelines:
  jax_mem_fraction: .2
  # Performance Parameters
  batch_size: 128                 # ðŸ”¥ Increase batch size to saturate GPU
  num_gpus_per_worker: 0.5        # GPU fraction per Ray Worker
  worker_pool_size: [1, 2]        # (min, max) workers

triton_server:
  host: "localhost"
  port: 8001

milvus_server:
  host: "localhost"
  port: 19530

models:
  - name: "emb_siglip2"
    inputs:
      - name: "pixel_values"
        dtype: "FP32"
        shape: [-1, 3, 224, 224]
    outputs:
      - name: "image_embeds"
        dtype: "FP32"
        shape: [-1, 768]

collections:
  - name: "test_collection"
    fields:
      - name: "id"
        type: "INT64"
        primary_key: true
        auto_id: true
      - name: "vector"
        type: "FLOAT_VECTOR"
        dim: 768
        index:
          type: "GPU_IVF_PQ"
          metric: "IP"
          params:
            nlist: 1024
            m: 32
            nbits: 8
